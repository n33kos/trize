!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("trize",[],e):"object"==typeof exports?exports.trize=e():t.trize=e()}(global,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i}return n(t,[{key:"toArray",value:function(){return[this.x,this.y]}},{key:"add",value:function(t){return"x"in t&&(this.x+=t.x),"y"in t&&(this.y+=t.y),"number"==typeof t&&(this.x+=t,this.y+=t),this}},{key:"subtract",value:function(t){return"x"in t&&(this.x-=t.x),"y"in t&&(this.y-=t.y),"number"==typeof t&&(this.x-=t,this.y-=t),this}},{key:"multiply",value:function(t){return"number"==typeof t&&(this.x*=t,this.y*=t),this}},{key:"divide",value:function(t){return"number"==typeof t&&(this.x/=t,this.y/=t),this}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}}]),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e){return new o.default(t.width/2+e.x*(t.width/2),t.height/2+-e.y*(t.height/2))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e){return new o.default(t.x+.5*(e.x-t.x),t.y+.5*(e.y-t.y))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return 180*t/Math.PI}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e,i){return new o.default(e.x+i*Math.cos(t),e.y+i*Math.sin(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),o=(n=r)&&n.__esModule?n:{default:n};e.default=function(t,e){return new o.default(e.x/t.width*2-1,e.y/t.height*-2+1)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){return Math.acos((Math.pow(i,2)-(Math.pow(e,2)+Math.pow(t,2)))/(-2*e*t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t*Math.PI/180}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),o=(n=r)&&n.__esModule?n:{default:n};e.default=function t(e){var i=e.arc,n=void 0===i?{color:"black",width:0,radius:30}:i,r=e.side,a=void 0===r?{color:"black",width:1}:r,u=e.vertex,l=void 0===u?{color:"black",width:0}:u,s=e.position,f=void 0===s?new o.default:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.arc=n,this.side=a,this.vertex=l,this.position=f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!(""+t).indexOf("e")>=0)return+(Math.round(t+"e+"+e)+"e-"+e);var i=(""+t).split("e"),n="";return+i[1]+e>0&&(n="+"),+(Math.round(+i[0]+"e"+n+(+i[1]+e))+"e-"+e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=c(i(1)),o=(c(i(8)),c(i(2))),a=c(i(7)),u=c(i(6)),l=c(i(9)),s=c(i(5)),f=(c(i(4)),c(i(3))),d=c(i(0));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.geometry=e,e||(this.geometry=[new l.default({position:new d.default(0,-.75)}),new l.default({position:new d.default(-.75,.25)}),new l.default({position:new d.default(.75,.25)})]),this.sides=null,this.angles=null,this.arcBoundaries=null}return n(t,[{key:"getSideCenterPoint",value:function(t,e){return{x:t.x+.5*(e.x-t.x),y:t.y+.5*(e.y-t.y)}}},{key:"getSideLengths",value:function(t,e){return[(0,o.default)((0,r.default)(t,e[0].position),(0,r.default)(t,e[1].position)),(0,o.default)((0,r.default)(t,e[1].position),(0,r.default)(t,e[2].position)),(0,o.default)((0,r.default)(t,e[2].position),(0,r.default)(t,e[0].position))]}},{key:"getAngles",value:function(t){return[(0,a.default)(t[2],t[0],t[1]),(0,a.default)(t[0],t[1],t[2]),(0,a.default)(t[1],t[2],t[0])]}},{key:"getArcBoundaries",value:function(t){var e=this,i=[];return this.geometry.forEach(function(n,o){var a=e.geometry[0];o<e.geometry.length-1&&(a=e.geometry[o+1]);var u=e.geometry[e.geometry.length-1];o>0&&(u=e.geometry[o-1]);var l=(0,r.default)(t,n.position),s=(0,r.default)(t,a.position),f=(0,r.default)(t,u.position),d=f.x-l.x,c=f.y-l.y,h=s.x-l.x,v=s.y-l.y,y=Math.atan2(c,d),p=Math.atan2(v,h);if(d*v-c*h<0){var b=p;p=y,y=b}y<p&&(y+=2*Math.PI),i.push({start:y,end:p})}),i}},{key:"drawArc",value:function(t,e,i,n,o){var a=(0,r.default)(t,i.position);e.beginPath(),e.lineWidth=i.arc.width,e.strokeStyle=i.arc.color,e.arc(a.x,a.y,i.arc.radius,o.start,o.end),e.stroke(),i.arc.label&&(i.arc.label.position=(0,u.default)(t,(0,s.default)(o.start+n/2,a,i.arc.radius)),i.arc.label.draw(t,e))}},{key:"drawLine",value:function(t,e,i,n){var o=(0,r.default)(t,i.position),a=(0,r.default)(t,n.position);e.lineCap="round",e.strokeStyle=i.side.color,e.beginPath(),e.lineWidth=i.side.width,e.moveTo(o.x,o.y),e.lineTo(a.x,a.y),e.stroke(),i.side.label&&(i.side.label.position=(0,f.default)(i.position,n.position),i.side.label.draw(t,e))}},{key:"drawVertex",value:function(t,e,i){var n=(0,r.default)(t,i.position);e.fillStyle=i.vertex.color,e.beginPath(),e.arc(n.x,n.y,i.vertex.width,0,2*Math.PI),e.fill(),i.vertex.label&&(i.vertex.label.position=i.position.clone(),i.vertex.label.draw(t,e))}},{key:"draw",value:function(t,e){this.sides=this.getSideLengths(t,this.geometry),this.angles=this.getAngles(this.sides),this.arcBoundaries=this.getArcBoundaries(t);for(var i=0;i<this.geometry.length;i++){var n=this.geometry[i],r=this.geometry[0];i<this.geometry.length-1&&(r=this.geometry[i+1]),n.arc.width>0&&this.drawArc(t,e,n,this.angles[i],this.arcBoundaries[i]),n.side.width>0&&this.drawLine(t,e,n,r),n.vertex.width>0&&this.drawVertex(t,e,n)}}}]),t}();e.default=h},function(t,e,i){"use strict";for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,r=n;return[r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],"-",r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]],r[t[i++]]].join("")}},function(t,e){t.exports=require("crypto")},function(t,e,i){"use strict";var n=i(13);t.exports=function(){return n.randomBytes(16)}},function(t,e,i){"use strict";var n=i(14),r=i(12);t.exports=function(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var u=0;u<16;++u)e[o+u]=a[u];return e||r(a)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=i(15),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.objects=[]}return n(t,[{key:"add",value:function(t){t.uuid=r(),this.objects.push(t)}},{key:"remove",value:function(t){this.objects=this.objects.filter(function(e){return e.uuid!==t})}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById(e),r=n.getContext("2d"),o=window.devicePixelRatio;n.width=n.offsetWidth*o,n.height=n.offsetHeight*o,this.canvas=n,this.ctx=r,this.cx=r.canvas.width/2,this.cy=r.canvas.height/2,this.pixelDensity=o,this.scene=i}return n(t,[{key:"resizeCanvas",value:function(){this.canvas.width=this.canvas.offsetWidth*this.pixelDensity,this.canvas.height=this.canvas.offsetHeight*this.pixelDensity,this.cx=this.ctx.canvas.width/2,this.cy=this.ctx.canvas.height/2}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"render",value:function(){var t=this;this.clear(),this.scene.objects.forEach(function(e){e.draw(t.canvas,t.ctx)})}}]),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=a(i(1)),o=a(i(0));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var i=e.color,n=void 0===i?"black":i,r=e.end,a=void 0===r?new o.default:r,u=e.start,l=void 0===u?new o.default:u,s=e.width,f=void 0===s?1:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=n,this.end=a,this.start=l,this.width=f}return n(t,[{key:"draw",value:function(t,e){var i=(0,r.default)(t,this.start),n=(0,r.default)(t,this.end);e.lineCap="round",e.strokeStyle=this.color,e.beginPath(),e.lineWidth=this.width,e.moveTo(i.x,i.y),e.lineTo(n.x,n.y),e.stroke()}}]),t}();e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=a(i(0)),o=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){var i=e.fillStyle,n=void 0===i?"#000000":i,o=e.font,a=void 0===o?"16px sans-serif":o,u=e.offset,l=void 0===u?new r.default:u,s=e.position,f=void 0===s?new r.default:s,d=e.rotation,c=void 0===d?0:d,h=e.strokeStyle,v=void 0===h?"#000000":h,y=e.text,p=void 0===y?"Hello World":y,b=e.textAlign,x=void 0===b?"center":b,g=e.shouldStroke,w=void 0!==g&&g,_=e.shouldFill,k=void 0===_||_;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fillStyle=n,this.font=a,this.offset=l,this.position=f,this.rotation=c,this.shouldFill=k,this.shouldStroke=w,this.strokeStyle=v,this.text=p,this.textAlign=x}return n(t,[{key:"draw",value:function(t,e){var i=(0,o.default)(t,this.position),n=new r.default(i.x+this.offset.x,i.y+this.offset.y);e.font=this.font,e.textAlign=this.textAlign,e.translate(n.x,n.y),e.rotate(this.rotation),this.shouldFill&&(e.fillStyle=this.fillStyle,e.fillText(this.text,0,0)),this.shouldStroke&&(e.strokeStyle=this.strokeStyle,e.strokeText(this.text,0,0)),e.setTransform(1,0,0,1,0,0)}}]),t}();e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=u(i(1)),o=u(i(2)),a=u(i(0));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){var i=e.arcEnd,n=void 0===i?2*Math.PI:i,r=e.arcStart,o=void 0===r?0:r,u=e.fillStyle,l=void 0===u?"#000000":u,s=e.position,f=void 0===s?new a.default(0,0):s,d=e.radius,c=void 0===d?null:d,h=e.clipRadius,v=void 0===h?null:h,y=e.shouldFill,p=void 0===y||y,b=e.shouldStroke,x=void 0!==b&&b,g=e.strokeStyle,w=void 0===g?"#000000":g,_=e.strokeWidth,k=void 0===_?1:_;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.arcEnd=n,this.arcStart=o,this.clipRadius=v,this.fillStyle=l,this.position=f,this.radius=c,this.shouldFill=p,this.shouldStroke=x,this.strokeStyle=w,this.strokeWidth=k}return n(t,[{key:"getPixelRadiusFromClipRadius",value:function(t){return(0,o.default)((0,r.default)(t,new a.default(0,0)),(0,r.default)(t,new a.default(this.clipRadius,0)))}},{key:"draw",value:function(t,e){var i=(0,r.default)(t,this.position),n=this.radius;this.radius||(n=this.getPixelRadiusFromClipRadius(t)),this.shouldFill&&(e.fillStyle=this.fillStyle,e.beginPath(),e.arc(i.x,i.y,n,this.arcStart,this.arcEnd,!0),e.fill()),this.shouldStroke&&(e.strokeStyle=this.strokeStyle,e.lineWidth=this.strokeWidth,e.beginPath(),e.arc(i.x,i.y,n,this.arcStart,this.arcEnd,!0),e.stroke())}}]),t}();e.default=l},function(t,e,i){"use strict";var n=w(i(20)),r=w(i(19)),o=w(i(18)),a=w(i(9)),u=w(i(17)),l=w(i(16)),s=w(i(11)),f=w(i(0)),d=w(i(1)),c=w(i(8)),h=w(i(2)),v=w(i(7)),y=w(i(6)),p=w(i(5)),b=w(i(4)),x=w(i(10)),g=w(i(3));function w(t){return t&&t.__esModule?t:{default:t}}var _={Circle:n.default,Label:r.default,Line:o.default,Point:a.default,Renderer:u.default,Scene:l.default,Triangle:s.default,Vector2:f.default,clipSpaceToPixels:d.default,degToRad:c.default,distance:h.default,lawOfCosines:v.default,pixelsToClipSpace:y.default,pointOnCircle:p.default,radToDeg:b.default,round:x.default,sideCenterPoint:g.default};void 0!==t&&void 0!==t.exports?t.exports=_:window.trize=_}])});